<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stm32plus: stm32plus::net::Udp&lt; TNetworkLayer &gt; Class Template Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">stm32plus
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacestm32plus.html">stm32plus</a>      </li>
      <li class="navelem"><b>net</b>      </li>
      <li class="navelem"><a class="el" href="classstm32plus_1_1net_1_1Udp.html">Udp</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32plus::net::Udp&lt; TNetworkLayer &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="stm32plus::net::Udp" -->
<p><code>#include &lt;<a class="el" href="Udp_8h_source.html">Udp.h</a>&gt;</code></p>

<p><a href="classstm32plus_1_1net_1_1Udp-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstm32plus_1_1net_1_1Udp_1_1Parameters.html">Parameters</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classstm32plus_1_1net_1_1Udp.html#a61d8b45835d2d735dc13ffc347e82fc4a1daaf7fadc16b5bdd52762310afe0377">E_TIMED_OUT</a> =  1, 
<a class="el" href="classstm32plus_1_1net_1_1Udp.html#a61d8b45835d2d735dc13ffc347e82fc4a3e2610b9d90a97a037316bdee5ee4e06">E_MSG_SIZE</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0007b79573eae336bdd01d650a1596d"></a><!-- doxytag: member="stm32plus::net::Udp::DECLARE_EVENT_SOURCE" ref="ad0007b79573eae336bdd01d650a1596d" args="(UdpReceive)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>DECLARE_EVENT_SOURCE</b> (UdpReceive)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1Udp.html#a52798798d8e360a407bc0654d40c912f">initialise</a> (const <a class="el" href="structstm32plus_1_1net_1_1Udp_1_1Parameters.html">Parameters</a> &amp;params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1Udp.html#a1241889abcd7e6803d4f59787ff0560d">startup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1Udp.html#aed5533a5e6460239a3bccb695884ee91">udpSend</a> (const <a class="el" href="structstm32plus_1_1net_1_1IpAddress.html">IpAddress</a> &amp;ipaddress, uint16_t sourcePortNumber, uint16_t destinationPortNumber, const void *data, uint16_t dataSize, bool async, uint32_t transmitTimeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1Udp.html#acffb66109bc68ff9e6f572219f9208b9">udpReceive</a> (uint16_t portNumber, void *buffer, uint16_t &amp;size, uint32_t receiveTimeout=0)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;class TNetworkLayer&gt;<br/>
class stm32plus::net::Udp&lt; TNetworkLayer &gt;</h3>

<p>Implementation of the UDP protocol over IP. Datagrams are received asynchronously from the IP layer and passed on to the upper layers. Functionality is provided for sending and receiving datagrams synchronously to the caller. </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a61d8b45835d2d735dc13ffc347e82fc4"></a><!-- doxytag: member="stm32plus::net::Udp::@585" ref="a61d8b45835d2d735dc13ffc347e82fc4" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TNetworkLayer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Error codes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a61d8b45835d2d735dc13ffc347e82fc4a1daaf7fadc16b5bdd52762310afe0377"></a><!-- doxytag: member="E_TIMED_OUT" ref="a61d8b45835d2d735dc13ffc347e82fc4a1daaf7fadc16b5bdd52762310afe0377" args="" -->E_TIMED_OUT</em>&nbsp;</td><td>
<p>timed out while waiting for data </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a61d8b45835d2d735dc13ffc347e82fc4a3e2610b9d90a97a037316bdee5ee4e06"></a><!-- doxytag: member="E_MSG_SIZE" ref="a61d8b45835d2d735dc13ffc347e82fc4a3e2610b9d90a97a037316bdee5ee4e06" args="" -->E_MSG_SIZE</em>&nbsp;</td><td>
<p>data was received, but more is available and has been lost </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a52798798d8e360a407bc0654d40c912f"></a><!-- doxytag: member="stm32plus::net::Udp::initialise" ref="a52798798d8e360a407bc0654d40c912f" args="(const Parameters &amp;params)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TNetworkLayer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1Udp.html">stm32plus::net::Udp</a>&lt; TNetworkLayer &gt;::<a class="el" href="classstm32plus_1_1net_1_1Udp.html#a52798798d8e360a407bc0654d40c912f">initialise</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstm32plus_1_1net_1_1Udp_1_1Parameters.html">Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialise the class </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>The parameters class </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if it worked </dd></dl>

</div>
</div>
<a class="anchor" id="a1241889abcd7e6803d4f59787ff0560d"></a><!-- doxytag: member="stm32plus::net::Udp::startup" ref="a1241889abcd7e6803d4f59787ff0560d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TNetworkLayer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1Udp.html">stm32plus::net::Udp</a>&lt; TNetworkLayer &gt;::<a class="el" href="classstm32plus_1_1net_1_1Udp.html#a1241889abcd7e6803d4f59787ff0560d">startup</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Startup the class </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if it worked </dd></dl>

</div>
</div>
<a class="anchor" id="acffb66109bc68ff9e6f572219f9208b9"></a><!-- doxytag: member="stm32plus::net::Udp::udpReceive" ref="acffb66109bc68ff9e6f572219f9208b9" args="(uint16_t portNumber, void *buffer, uint16_t &amp;size, uint32_t receiveTimeout=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TNetworkLayer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1Udp.html">stm32plus::net::Udp</a>&lt; TNetworkLayer &gt;::<a class="el" href="classstm32plus_1_1net_1_1Udp.html#acffb66109bc68ff9e6f572219f9208b9">udpReceive</a> </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>portNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t &amp;&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>receiveTimeout</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Receive a datagram synchronously. This method blocks until data is available or the timeout is hit. Data from the received datagram is stored in 'buffer' up to a maximum of 'size' bytes. The actual amount received is returned in 'size'. If more data is available in the datagram then the method returns false and the error provider code will be E_MSG_SIZE. true is returned if all the data in the datagram could be copied into your 'buffer' </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">portNumber</td><td>The port to wait for data on </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">buffer</td><td>Where to store the data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">size</td><td>The maximum number of bytes to store in 'buffer'. Modified on return to indicate the actual number of bytes stored. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">receiveTimeout</td><td>The number of ms to wait for a response. Specify zero to make this a blocking call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if it worked. false on error and also if the datagram was too big to fit in 'buffer'. </dd></dl>

</div>
</div>
<a class="anchor" id="aed5533a5e6460239a3bccb695884ee91"></a><!-- doxytag: member="stm32plus::net::Udp::udpSend" ref="aed5533a5e6460239a3bccb695884ee91" args="(const IpAddress &amp;ipaddress, uint16_t sourcePortNumber, uint16_t destinationPortNumber, const void *data, uint16_t dataSize, bool async, uint32_t transmitTimeout)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TNetworkLayer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1Udp.html">stm32plus::net::Udp</a>&lt; TNetworkLayer &gt;::<a class="el" href="classstm32plus_1_1net_1_1Udp.html#aed5533a5e6460239a3bccb695884ee91">udpSend</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstm32plus_1_1net_1_1IpAddress.html">IpAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>ipaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sourcePortNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>destinationPortNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dataSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>transmitTimeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send a UDP datagram. The data must be a single datagram which implies a maximum dataSize of 65507 bytes though in practice you should avoid exceeding the MAC MTU size unless you know that the network layer driver supports packet fragmentation and reassembly.</p>
<p>If you set the async flag then you should be aware that dynamic memory is allocated to hold the datagram until transmission is complete so you must have enough SRAM to hold it and any other datagrams pending transmission. If you do not set the async flag then this method blocks until the datagram has been transmitted or the timeout expires. Datagrams transmitted synchronously only use dynamic memory for the datagram and frame header information because the datagram data is transmitted directly from the memory pointer that you supply. Synchronous mode trades network throughput for reduced CPU load and SRAM usage.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ipaddress</td><td>The IP address to send to. </td></tr>
    <tr><td class="paramname">sourcePortNumber</td><td>The port number that you are sending from, or zero if you don't care </td></tr>
    <tr><td class="paramname">destinationPortNumber</td><td>The destination port to send to. </td></tr>
    <tr><td class="paramname">data</td><td>The data buffer to send </td></tr>
    <tr><td class="paramname">dataSize</td><td>The size of the data buffer </td></tr>
    <tr><td class="paramname">async</td><td>true to transmit asynchronously. false to transmit synchronously. </td></tr>
    <tr><td class="paramname">transmitTimeout</td><td>In synchronous mode the number of ms to wait for a datagram to be transmitted. Ignored in asychronous mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>async mode always returns true. sync mode will return false if the datagram send operation times out. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/net/transport/udp/<a class="el" href="Udp_8h_source.html">Udp.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue May 27 2014 07:25:45 for stm32plus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
