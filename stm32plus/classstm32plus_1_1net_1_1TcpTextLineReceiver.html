<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stm32plus: stm32plus::net::TcpTextLineReceiver Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">stm32plus
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacestm32plus.html">stm32plus</a>      </li>
      <li class="navelem"><b>net</b>      </li>
      <li class="navelem"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html">TcpTextLineReceiver</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32plus::net::TcpTextLineReceiver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="stm32plus::net::TcpTextLineReceiver" -->
<p><code>#include &lt;<a class="el" href="TcpTextLineReceiver_8h_source.html">TcpTextLineReceiver.h</a>&gt;</code></p>

<p><a href="classstm32plus_1_1net_1_1TcpTextLineReceiver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#aad29705eb540f71dffdf8ea03ea75d35a58f436abf1edc60472795d7135f60838">E_RESET_REQUIRED</a> =  1
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a6543387fd47f3fecb9f4626d2796e851">TcpTextLineReceiver</a> (uint16_t maxLength)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a125b5ff78f09f3dcfde8bd6731610746">add</a> (<a class="el" href="classstm32plus_1_1net_1_1TcpConnection.html">TcpConnection</a> &amp;conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a05bd73b1934edc4f28c33881242a2cd7">ready</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#afebd612a64025763732789079081e870">reset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a8f313edb797807d4fa244fe8d5ce1c6d">length</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#aeb85b10ca49348ff96226a95a355390c">operator const std::string &amp;</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#aeaffda71f02f88485be15c8fa0592de6">str</a> () const </td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Many application layer IETF protocols are text based and rely on being able to process data a line at a time. This class simplifies receiving data from a <a class="el" href="classstm32plus_1_1net_1_1TcpConnection.html">TcpConnection</a> a line at a time.</p>
<p>Data is read into a pre-sized std::string class a character at a time until an LF is hit. Any CR characters are discarded. The trailing LF is not included in the string. </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="aad29705eb540f71dffdf8ea03ea75d35"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::@584" ref="aad29705eb540f71dffdf8ea03ea75d35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Error codes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aad29705eb540f71dffdf8ea03ea75d35a58f436abf1edc60472795d7135f60838"></a><!-- doxytag: member="E_RESET_REQUIRED" ref="aad29705eb540f71dffdf8ea03ea75d35a58f436abf1edc60472795d7135f60838" args="" -->E_RESET_REQUIRED</em>&nbsp;</td><td>
<p>you called <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a125b5ff78f09f3dcfde8bd6731610746">add()</a> but you haven't <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#afebd612a64025763732789079081e870">reset()</a> since the last line was <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a05bd73b1934edc4f28c33881242a2cd7">ready()</a> </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6543387fd47f3fecb9f4626d2796e851"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::TcpTextLineReceiver" ref="a6543387fd47f3fecb9f4626d2796e851" args="(uint16_t maxLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a6543387fd47f3fecb9f4626d2796e851">stm32plus::net::TcpTextLineReceiver::TcpTextLineReceiver</a> </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>maxLength</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">maxLength</td><td>The longest line that we can receive. Longer lines are truncated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a125b5ff78f09f3dcfde8bd6731610746"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::add" ref="a125b5ff78f09f3dcfde8bd6731610746" args="(TcpConnection &amp;conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a125b5ff78f09f3dcfde8bd6731610746">stm32plus::net::TcpTextLineReceiver::add</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstm32plus_1_1net_1_1TcpConnection.html">TcpConnection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add some more data from this TCP connection. Only data up to and including the first LF will be consumed. This call will not block. It will check for data available in the TCP receive buffer before calling receive(). If data is not available then it will return 'true' and expect to be called back later when you have been signalled that data is available. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The TCP connection to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if the underlying call to the connection read() fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a8f313edb797807d4fa244fe8d5ce1c6d"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::length" ref="a8f313edb797807d4fa244fe8d5ce1c6d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a8f313edb797807d4fa244fe8d5ce1c6d">stm32plus::net::TcpTextLineReceiver::length</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the string length </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The length of the string </dd></dl>

</div>
</div>
<a class="anchor" id="aeb85b10ca49348ff96226a95a355390c"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::operator const std::string &amp;" ref="aeb85b10ca49348ff96226a95a355390c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stm32plus::net::TcpTextLineReceiver::operator const std::string &amp; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cast to a std::string const reference </p>

</div>
</div>
<a class="anchor" id="a05bd73b1934edc4f28c33881242a2cd7"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::ready" ref="a05bd73b1934edc4f28c33881242a2cd7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a05bd73b1934edc4f28c33881242a2cd7">stm32plus::net::TcpTextLineReceiver::ready</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if the line is ready </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if a line is ready to be consumed </dd></dl>

</div>
</div>
<a class="anchor" id="afebd612a64025763732789079081e870"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::reset" ref="afebd612a64025763732789079081e870" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#afebd612a64025763732789079081e870">stm32plus::net::TcpTextLineReceiver::reset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the class. After calling this you may call <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#a125b5ff78f09f3dcfde8bd6731610746">add()</a> again to start receiving a new line </p>

</div>
</div>
<a class="anchor" id="aeaffda71f02f88485be15c8fa0592de6"></a><!-- doxytag: member="stm32plus::net::TcpTextLineReceiver::str" ref="aeaffda71f02f88485be15c8fa0592de6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; <a class="el" href="classstm32plus_1_1net_1_1TcpTextLineReceiver.html#aeaffda71f02f88485be15c8fa0592de6">stm32plus::net::TcpTextLineReceiver::str</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Method to return as a string reference </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The string </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/net/transport/tcp/<a class="el" href="TcpTextLineReceiver_8h_source.html">TcpTextLineReceiver.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue May 27 2014 07:25:45 for stm32plus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
