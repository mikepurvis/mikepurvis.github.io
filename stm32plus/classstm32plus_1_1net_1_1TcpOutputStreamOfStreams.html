<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stm32plus: stm32plus::net::TcpOutputStreamOfStreams Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">stm32plus
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacestm32plus.html">stm32plus</a>      </li>
      <li class="navelem"><b>net</b>      </li>
      <li class="navelem"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html">TcpOutputStreamOfStreams</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32plus::net::TcpOutputStreamOfStreams Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="stm32plus::net::TcpOutputStreamOfStreams" -->
<p><code>#include &lt;<a class="el" href="TcpOutputStreamOfStreams_8h_source.html">TcpOutputStreamOfStreams.h</a>&gt;</code></p>

<p><a href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a983e22f9b55cbb464f66e65863b9b934">TcpOutputStreamOfStreams</a> (<a class="el" href="classstm32plus_1_1net_1_1TcpConnection.html">TcpConnection</a> &amp;conn, uint16_t localBufferMaxSize=256)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#ac0d3d637a63a6f1146e5adc4a5dd7ccb">~TcpOutputStreamOfStreams</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a54086e4c4575d86c7185ce9f3a646c5b">completed</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a3323e6d46a1817f8e30efcc1f9c53234">addStream</a> (<a class="el" href="classstm32plus_1_1InputStream.html">InputStream</a> *stream, bool takeOwnership)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#aef78322f70cd8a00e3c4574c0758f399">canWriteToConnection</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a1d4d75629f1328f68eea0573dabb2605">writeDataToConnection</a> (uint32_t &amp;actuallySent)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html">TcpOutputStreamOfStreams</a> manages a list of streams that should be sequentially pushed out over a TCP connection. Each input stream can be optionally deleted when it's empty, or when this class is destroyed. The write methods are non-blocking. If a call would block then an error code is returned.</p>
<p>Because streams cannot be rewound and the TCP connection can write less than you ask for, a local buffer is maintained that holds data read from the stream but not yet sent to the TCP connection. The default size of this buffer is 256 bytes but that can be configured in the constructor. This buffer size has an important impact on performance because it will correspond to the largest TCP data segment that this class will send over the connection. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a983e22f9b55cbb464f66e65863b9b934"></a><!-- doxytag: member="stm32plus::net::TcpOutputStreamOfStreams::TcpOutputStreamOfStreams" ref="a983e22f9b55cbb464f66e65863b9b934" args="(TcpConnection &amp;conn, uint16_t localBufferMaxSize=256)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a983e22f9b55cbb464f66e65863b9b934">stm32plus::net::TcpOutputStreamOfStreams::TcpOutputStreamOfStreams</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstm32plus_1_1net_1_1TcpConnection.html">TcpConnection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>localBufferMaxSize</em> = <code>256</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>TCP connection to write to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac0d3d637a63a6f1146e5adc4a5dd7ccb"></a><!-- doxytag: member="stm32plus::net::TcpOutputStreamOfStreams::~TcpOutputStreamOfStreams" ref="ac0d3d637a63a6f1146e5adc4a5dd7ccb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#ac0d3d637a63a6f1146e5adc4a5dd7ccb">stm32plus::net::TcpOutputStreamOfStreams::~TcpOutputStreamOfStreams</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. Delete any streams that we have taken ownership of </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3323e6d46a1817f8e30efcc1f9c53234"></a><!-- doxytag: member="stm32plus::net::TcpOutputStreamOfStreams::addStream" ref="a3323e6d46a1817f8e30efcc1f9c53234" args="(InputStream *stream, bool takeOwnership)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a3323e6d46a1817f8e30efcc1f9c53234">stm32plus::net::TcpOutputStreamOfStreams::addStream</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstm32plus_1_1InputStream.html">InputStream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>takeOwnership</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a stream to the list, optionally owning it </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The stream pointer </td></tr>
    <tr><td class="paramname">takeOwnership</td><td>true if we own the pointer and will delete it when finished </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="aef78322f70cd8a00e3c4574c0758f399"></a><!-- doxytag: member="stm32plus::net::TcpOutputStreamOfStreams::canWriteToConnection" ref="aef78322f70cd8a00e3c4574c0758f399" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#aef78322f70cd8a00e3c4574c0758f399">stm32plus::net::TcpOutputStreamOfStreams::canWriteToConnection</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return true if we can write to this connection without blocking </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if we can do the write </dd></dl>

</div>
</div>
<a class="anchor" id="a54086e4c4575d86c7185ce9f3a646c5b"></a><!-- doxytag: member="stm32plus::net::TcpOutputStreamOfStreams::completed" ref="a54086e4c4575d86c7185ce9f3a646c5b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a54086e4c4575d86c7185ce9f3a646c5b">stm32plus::net::TcpOutputStreamOfStreams::completed</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return true if all data has gone </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has gone </dd></dl>

</div>
</div>
<a class="anchor" id="a1d4d75629f1328f68eea0573dabb2605"></a><!-- doxytag: member="stm32plus::net::TcpOutputStreamOfStreams::writeDataToConnection" ref="a1d4d75629f1328f68eea0573dabb2605" args="(uint32_t &amp;actuallySent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1net_1_1TcpOutputStreamOfStreams.html#a1d4d75629f1328f68eea0573dabb2605">stm32plus::net::TcpOutputStreamOfStreams::writeDataToConnection</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>actuallySent</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write out some data to the connection. Will never block. Will return false if the underlying connection write attempt or a stream read attempt returned false. If this method returns true then zero or more bytes have been transmitted. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">actuallySent</td><td>The number of bytes sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if it worked. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/net/transport/tcp/<a class="el" href="TcpOutputStreamOfStreams_8h_source.html">TcpOutputStreamOfStreams.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue May 27 2014 07:25:45 for stm32plus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
