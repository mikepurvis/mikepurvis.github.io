<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stm32plus: stm32plus::fat::FilenameHandler Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">stm32plus
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacestm32plus.html">stm32plus</a>      </li>
      <li class="navelem"><b>fat</b>      </li>
      <li class="navelem"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html">FilenameHandler</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32plus::fat::FilenameHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="stm32plus::fat::FilenameHandler" -->
<p>Handle constructing a filename from one or more directory entries.  
 <a href="classstm32plus_1_1fat_1_1FilenameHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FilenameHandler_8h_source.html">FilenameHandler.h</a>&gt;</code></p>

<p><a href="classstm32plus_1_1fat_1_1FilenameHandler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#ad61f33eb2f3c7836069097b0fb90e7c8af9e6d215ff85413e50b7738210d0c547">E_INVALID_STATE</a> = 1, 
<a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#ad61f33eb2f3c7836069097b0fb90e7c8a6027871483668a2710efd2e7f87db4d1">E_CORRUPT_LONG_FILENAME</a> = 2
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#aecbb7794d159d29a641ea747211ecaf7">FilenameHandler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a2518a1767d93ca85d95b8cb04483e074">~FilenameHandler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a7bee79d40e31a2ff1870b07aa916c5e4">reinitialise</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#aa31c870bef9357b0f9f80c3174188814">handleEntry</a> (<a class="el" href="structstm32plus_1_1fat_1_1DirectoryEntryWithLocation.html">DirectoryEntryWithLocation</a> &amp;entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a53c14f6dd4759f5267265952b565fdcb">getFilename</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">getSectorIndices</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a0e2f26a2b6d60efbd65aadf19fbeecce">getSectorOffsetIndices</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#ac8dc8a3a4d5768bc4051f06b8bddd736">getDirentCount</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Handle constructing a filename from one or more directory entries. </p>
<p>This class is used for extracting the true filename from one or more directory entries in a FAT directory. Long filenames are the tricky ones because they occupy more than one entry and have a strange encoding driven by the requirement to be compatible with, and ignored by, earlier systems that don't understand the new entries. </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ad61f33eb2f3c7836069097b0fb90e7c8"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::@410" ref="ad61f33eb2f3c7836069097b0fb90e7c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Error codes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad61f33eb2f3c7836069097b0fb90e7c8af9e6d215ff85413e50b7738210d0c547"></a><!-- doxytag: member="E_INVALID_STATE" ref="ad61f33eb2f3c7836069097b0fb90e7c8af9e6d215ff85413e50b7738210d0c547" args="" -->E_INVALID_STATE</em>&nbsp;</td><td>
<p>The directory is corrupt. The sequence of entries does not make sense. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad61f33eb2f3c7836069097b0fb90e7c8a6027871483668a2710efd2e7f87db4d1"></a><!-- doxytag: member="E_CORRUPT_LONG_FILENAME" ref="ad61f33eb2f3c7836069097b0fb90e7c8a6027871483668a2710efd2e7f87db4d1" args="" -->E_CORRUPT_LONG_FILENAME</em>&nbsp;</td><td>
<p>The long filename is corrupted. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aecbb7794d159d29a641ea747211ecaf7"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::FilenameHandler" ref="aecbb7794d159d29a641ea747211ecaf7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#aecbb7794d159d29a641ea747211ecaf7">stm32plus::fat::FilenameHandler::FilenameHandler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Set initial state. </p>

</div>
</div>
<a class="anchor" id="a2518a1767d93ca85d95b8cb04483e074"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::~FilenameHandler" ref="a2518a1767d93ca85d95b8cb04483e074" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a2518a1767d93ca85d95b8cb04483e074">stm32plus::fat::FilenameHandler::~FilenameHandler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. Delete internal buffers. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac8dc8a3a4d5768bc4051f06b8bddd736"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::getDirentCount" ref="ac8dc8a3a4d5768bc4051f06b8bddd736" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#ac8dc8a3a4d5768bc4051f06b8bddd736">stm32plus::fat::FilenameHandler::getDirentCount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the number of dirents holding this filename. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of dirents, which corresponds to the number of entries in the <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">getSectorIndices()</a> and <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a0e2f26a2b6d60efbd65aadf19fbeecce">getSectorOffsetIndices()</a> arrays. </dd></dl>

</div>
</div>
<a class="anchor" id="a53c14f6dd4759f5267265952b565fdcb"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::getFilename" ref="a53c14f6dd4759f5267265952b565fdcb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a53c14f6dd4759f5267265952b565fdcb">stm32plus::fat::FilenameHandler::getFilename</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the current filename. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An internal null terminated pointer to the filename. Do not delete. </dd></dl>

</div>
</div>
<a class="anchor" id="a92ebf135b5088b0cb34b2145eab0cd54"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::getSectorIndices" ref="a92ebf135b5088b0cb34b2145eab0cd54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t * <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">stm32plus::fat::FilenameHandler::getSectorIndices</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the sector indices array. This array holds the sector locations of each dirent that makes up the filename. This can be used to efficiently delete the file if the caller needs to.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An internal pointer to the sector indices array. Do not delete. </dd></dl>

</div>
</div>
<a class="anchor" id="a0e2f26a2b6d60efbd65aadf19fbeecce"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::getSectorOffsetIndices" ref="a0e2f26a2b6d60efbd65aadf19fbeecce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t * <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a0e2f26a2b6d60efbd65aadf19fbeecce">stm32plus::fat::FilenameHandler::getSectorOffsetIndices</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the sector offset indices array. Each entry in this array is paired with an entry in the <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">getSectorIndices()</a> array to give the exact location in a sector of the directory entry. The sector index tells you where on disk the entry lies and the sector offset tells you where in the sector the entry lies. The entries in this array are byte offsets into the sectors.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An internal pointer to the sector offset indices array. Do not delete. </dd></dl>

</div>
</div>
<a class="anchor" id="aa31c870bef9357b0f9f80c3174188814"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::handleEntry" ref="aa31c870bef9357b0f9f80c3174188814" args="(DirectoryEntryWithLocation &amp;entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#aa31c870bef9357b0f9f80c3174188814">stm32plus::fat::FilenameHandler::handleEntry</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstm32plus_1_1fat_1_1DirectoryEntryWithLocation.html">DirectoryEntryWithLocation</a> &amp;&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle the next directory entry. The caller should repeatedly call this method until a short directory entry is encountered. Since a long name immediately precedes its short equivalent when the short name is hit then the long name will have already been processed here.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry</td><td>The directory entry to process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if there is a processing failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a7bee79d40e31a2ff1870b07aa916c5e4"></a><!-- doxytag: member="stm32plus::fat::FilenameHandler::reinitialise" ref="a7bee79d40e31a2ff1870b07aa916c5e4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a7bee79d40e31a2ff1870b07aa916c5e4">stm32plus::fat::FilenameHandler::reinitialise</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cleanup and re-initialise for another run </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/filesystem/fat/<a class="el" href="FilenameHandler_8h_source.html">FilenameHandler.h</a></li>
<li>src/filesystem/fat/FilenameHandler.cpp</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue May 27 2014 07:25:42 for stm32plus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
